# =============================================================================
# Paperless-Lexoffice Middleware – Umgebungsvariablen
# =============================================================================
# Kopiere diese Datei nach .env und passe die Werte an:
#   cp .env.example .env
# =============================================================================

# ── Datenbank (PostgreSQL) ───────────────────────────────────────────────────
# Verbindungs-URL fuer das Backend (asyncpg-Treiber)
DATABASE_URL=postgresql+asyncpg://middleware:middleware@db:5432/middleware

# PostgreSQL Container-Konfiguration
POSTGRES_USER=middleware
POSTGRES_PASSWORD=middleware
POSTGRES_DB=middleware

# ── Redis ────────────────────────────────────────────────────────────────────
# Wird fuer Job-Queue (ARQ), Caching und Pub/Sub verwendet
REDIS_URL=redis://redis:6379/0

# ── Paperless-ngx ────────────────────────────────────────────────────────────
# URL deiner Paperless-ngx-Instanz
PAPERLESS_URL=http://paperless:8000

# API-Token aus Paperless-ngx (Einstellungen → API-Token)
PAPERLESS_TOKEN=your-paperless-token-here

# ── Lexoffice / Lexware Office ───────────────────────────────────────────────
# API-Basis-URL (Standard, normalerweise nicht aendern)
LEXOFFICE_URL=https://api.lexware.io

# API-Key aus dem Lexoffice Developer Portal
# https://developers.lexoffice.io/
LEXOFFICE_API_KEY=your-lexoffice-api-key-here

# ── Sicherheit ───────────────────────────────────────────────────────────────
# Fernet-Schluessel zum Verschluesseln von API-Keys in der Datenbank
# Generieren mit: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=generate-a-fernet-key-see-command-above

# Geheimer Schluessel zur Validierung eingehender Webhooks (HMAC-Signatur)
# Generieren mit: python -c "import secrets; print(secrets.token_urlsafe(32))"
WEBHOOK_SECRET=generate-a-secret-see-command-above

# ── Anwendung ────────────────────────────────────────────────────────────────
# Erlaubte CORS-Origins (kommasepariert, fuer lokale Entwicklung)
CORS_ORIGINS=["http://localhost:3000","http://localhost:5173","http://localhost:80"]

# Log-Level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ── Ports (optional, Standard-Werte in docker-compose.yml) ───────────────────
# BACKEND_PORT=8000
# FRONTEND_PORT=3000
# POSTGRES_PORT=5432
# REDIS_PORT=6379
# NGINX_PORT=80
